---
---
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jekyll Admin Manager - Loading Blog</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=DungGeunMo&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<style>
:root { --primary:#f03e2f; --sidebar-bg:#2b3137; --bg:#f5f7f9; --text:#333; --border:#ddd; --pixel:'DungGeunMo', sans-serif; }
* { box-sizing:border-box; }
body { margin:0; font-family:'Inter', sans-serif; background:var(--bg); color:var(--text); display:flex; height:100vh; overflow:hidden; }
.sidebar { width:260px; background:var(--sidebar-bg); color:white; display:flex; flex-direction:column; padding:20px 0; flex-shrink:0; }
.sidebar-logo { padding:0 25px 30px; border-bottom:1px solid #3f4951; margin-bottom:20px; text-align:center; }
.sidebar-logo img { width:120px; filter:brightness(0) invert(1); }
.menu-list { list-style:none; padding:0; margin:0; flex-grow:1; }
.menu-item { padding:12px 25px; cursor:pointer; display:flex; align-items:center; gap:12px; transition:0.2s; color:#c8d1d9; font-size:0.95rem; }
.menu-item:hover { background:rgba(255,255,255,0.05); color:white; }
.menu-item.active { background:var(--primary); color:white; font-weight:600; }
.main-wrapper { flex-grow:1; display:flex; flex-direction:column; overflow:hidden; }
.top-nav { height:65px; background:white; border-bottom:1px solid var(--border); display:flex; justify-content:space-between; align-items:center; padding:0 30px; flex-shrink:0; }
.top-nav h2 { margin:0; font-size:1.2rem; color:#111; font-family:var(--pixel); }
.content { padding:30px; overflow-y:auto; flex-grow:1; }
.container { max-width:1300px; margin:0 auto; width:100%; }
.card { background:white; border:1px solid var(--border); border-radius:6px; box-shadow:0 2px 8px rgba(0,0,0,0.04); margin-bottom:25px; }
.card-header { padding:15px 25px; border-bottom:1px solid var(--border); display:flex; justify-content:space-between; align-items:center; }
.card-header h3 { margin:0; font-size:1rem; color:#444; }
.btn { border-radius:4px; padding:10px 18px; cursor:pointer; border:1px solid var(--border); font-size:0.85rem; font-weight:600; display:inline-flex; align-items:center; gap:8px; transition:0.15s; }
.btn:hover { background:#f8f9fa; }
.btn-primary { background:var(--primary); color:white; border:none; }
.btn-primary:hover { opacity:0.9; box-shadow:0 4px 12px rgba(240,62,47,0.3); }
.data-table { width:100%; border-collapse:collapse; }
.data-table th { text-align:left; padding:12px 20px; border-bottom:2px solid #eee; color:#666; font-size:0.8rem; text-transform:uppercase; letter-spacing:1px; }
.data-table td { padding:15px 20px; border-bottom:1px solid #eee; font-size:0.95rem; }
.data-table tr:hover { background:#f9fafb; }
.form-row { display:flex; gap:25px; margin-bottom:20px; }
.form-group { flex:1; }
label { display:block; margin-bottom:10px; font-weight:700; font-size:0.85rem; color:#666; text-transform:uppercase; }
input, select, textarea { width:100%; padding:12px 15px; border:1px solid var(--border); border-radius:4px; outline:none; font-family:inherit; font-size:1rem; color:#333; }
input:focus, select:focus, textarea:focus { border-color:var(--primary); box-shadow:0 0 0 3px rgba(240,62,47,0.1); }
.editor-toolbar { background:#f1f3f5; padding:10px 20px; border:1px solid var(--border); border-bottom:none; display:flex; gap:10px; border-top-left-radius:6px; border-top-right-radius:6px; }
.tool-btn { padding:6px 14px; font-size:0.9rem; min-width:38px; justify-content:center; background:white; color:#555; }
.editor-container { display:flex; height:700px; border:1px solid var(--border); border-bottom-left-radius:6px; border-bottom-right-radius:6px; overflow:hidden; background:white; }
#md-input { flex:1; border:none; border-right:1px solid var(--border); padding:25px; font-family:'JetBrains Mono', 'Consolas', monospace; resize:none; font-size:1.05rem; outline:none; line-height:1.7; color:#2c3e50; }
#md-preview { flex:1; padding:30px; overflow-y:auto; background:white; line-height:1.8; color:#333; }
#md-preview img { max-width:100%; height:auto; border-radius:4px; }
#md-preview h1, #md-preview h2 { border-bottom:1px solid #eee; padding-bottom:10px; }
.overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); z-index:1000; display:none; justify-content:center; align-items:center; }
.modal { background:white; border-radius:10px; width:90%; max-width:1100px; overflow:hidden; box-shadow:0 20px 60px rgba(0,0,0,0.4); }
#modal-result { width:100%; height:500px; border:none; padding:30px; font-family:'Consolas', monospace; background:#1e1e1e; color:#d4d4d4; outline:none; font-size:1.05rem; line-height:1.5; }
.section-panel { display:none; }
.section-panel.active { display:block; animation:fadeIn 0.25s ease-out; }
@keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); }}
</style>
</head>
<body>
<nav class="sidebar">
<div class="sidebar-logo">
<img src="https://jekyllrb.com/img/logo-2x.png" alt="Jekyll Logo">
<div style="font-family:var(--pixel); color:#aaa; margin-top:10px; font-size:0.85rem; letter-spacing:1px;">ADMIN CENTER</div>
</div>
<ul class="menu-list">
<li class="menu-item active" onclick="navTo('posts')"><i class="fas fa-file-alt"></i> Posts</li>
<li class="menu-item" onclick="navTo('pages')"><i class="fas fa-copy"></i> Pages</li>
<li class="menu-item" onclick="navTo('news')"><i class="fas fa-broadcast-tower"></i> News Manager</li>
<li class="menu-item" onclick="navTo('assets')"><i class="fas fa-images"></i> Asset Library</li>
<li class="menu-item" onclick="navTo('config')"><i class="fas fa-cog"></i> Configuration</li>
</ul>
<div style="padding:25px;"><button class="btn" style="width:100%; color:#999; border-color:#555; background:transparent;" onclick="window.location.href='/'"><i class="fas fa-eye"></i> View Site</button></div>
</nav>
<div class="main-wrapper">
<header class="top-nav"><h2 id="current-view-title">Post Management</h2><div id="nav-actions"></div></header>
<main class="content">
<div class="container">
<!-- Posts Panel -->
<section id="panel-posts" class="section-panel active">
<div id="posts-list-view">
<div class="card">
<div class="card-header"><h3>Active Posts</h3><button class="btn btn-primary" onclick="showEditor()"><i class="fas fa-plus"></i> NEW MISSION</button></div>
<div style="padding:20px; border-bottom:1px solid #eee; background:#fafafa;"><div style="position:relative;"><i class="fas fa-search" style="position:absolute; left:15px; top:13px; color:#aaa;"></i><input type="text" placeholder="Search title or content..." style="padding-left:45px; height:45px;" oninput="filterPosts(this.value)"></div></div>
<div class="card-body" style="padding:0;"><table class="data-table"><thead><tr><th>Title</th><th>Category</th><th>Date</th><th style="width:120px;">Actions</th></tr></thead><tbody id="posts-tbody"></tbody></table></div>
</div>
</div>
<div id="posts-editor-view" style="display:none;">
<div class="card">
<div class="card-header"><h3 id="editor-title">MISSION CONTROL</h3><div style="display:flex; gap:12px;"><button class="btn" onclick="hideEditor()">CANCEL</button><button class="btn btn-primary" onclick="exportPost()">COMPILE MARKDOWN</button></div></div>
<div class="card-body">
<div class="form-row">
<div class="form-group" style="flex:2.5;"><label>Title</label><input type="text" id="p-title" oninput="autoSlug()"></div>
<div class="form-group" style="flex:1;"><label>Category</label><select id="p-cat">{% for cat in site.categories %}<option value="{{ cat[0] }}">{{ cat[0]|upcase }}</option>{% endfor %}</select></div>
</div>
<div class="form-row">
<div class="form-group" style="flex:1.5;"><label>URL Slug</label><input type="text" id="p-slug" placeholder="post-url-slug"></div>
<div class="form-group" style="flex:1;"><label>Publish Date</label><input type="text" id="p-date" placeholder="2024-02-27"></div>
</div>
<div class="form-row">
<div class="form-group" style="flex:1.5;"><label>Hashtags (comma separated)</label><input type="text" id="p-tags" placeholder="viral, game, review"></div>
<div class="form-group" style="flex:1;"><label>Feature Image Path</label><input type="text" id="p-img" placeholder="/img/posts/thumb.png"></div>
</div>
<div class="form-group"><label>Short Description (Excerpt)</label><textarea id="p-desc" rows="2" placeholder="Brief summary for preview..."></textarea></div>
<div class="editor-toolbar">
<button class="btn tool-btn" onclick="insertFmt('**')"><b>B</b></button><button class="btn tool-btn" onclick="insertFmt('*')"><i>I</i></button>
<button class="btn tool-btn" onclick="insertFmt('# ')">H1</button><button class="btn tool-btn" onclick="insertFmt('## ')">H2</button><button class="btn tool-btn" onclick="insertFmt('### ')">H3</button>
<button class="btn tool-btn" onclick="insertFmt('[', '](url)')"><i class="fas fa-link"></i></button><button class="btn tool-btn" onclick="insertFmt('![', '](url)')"><i class="fas fa-image"></i></button>
<button class="btn tool-btn" onclick="insertFmt('> ')"><i class="fas fa-quote-left"></i></button><button class="btn tool-btn" onclick="insertFmt('- ')"><i class="fas fa-list"></i></button>
</div>
<div class="editor-container"><textarea id="md-input" oninput="updatePreview()" placeholder="Load content and start writing..."></textarea><div id="md-preview"></div></div>
</div>
</div>
</div>
</section>
<!-- News Panel -->
<section id="panel-news" class="section-panel">
<div class="card"><div class="card-header"><h3>News Items</h3><button class="btn btn-primary" onclick="exportNews()">Export YAML</button></div>
<div class="card-body"><table class="data-table"><thead><tr><th>Type</th><th>Title</th><th>Date</th></tr></thead><tbody id="news-tbody"></tbody></table></div></div>
</section>
<!-- Assets Panel -->
<section id="panel-assets" class="section-panel">
<div class="card"><div class="card-header"><h3>Asset Library</h3></div><div class="card-body"><div id="assets-grid" style="display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:25px;"></div></div></div>
</section>
<!-- Config Panel -->
<section id="panel-config" class="section-panel">
<div class="card"><div class="card-header"><h3>Site Configuration</h3><button class="btn btn-primary" onclick="exportConfig()">Generate YAML</button></div>
<div class="card-body"><div class="form-group"><label>Site Title</label><input type="text" id="c-title" value="{{ site.title }}"></div><div class="form-group"><label>Tagline</label><input type="text" id="c-tag" value="{{ site.tagline }}"></div></div></div>
</section>
<!-- Pages Panel -->
<section id="panel-pages" class="section-panel"><div class="card"><div class="card-header"><h3>Pages</h3></div><div class="card-body"><table class="data-table"><thead><tr><th>URL</th><th>Title</th></tr></thead><tbody id="pages-tbody"></tbody></table></div></div></section>
</div>
</main>
</div>
<div class="overlay" id="modal-overlay"><div class="modal"><div class="card-header"><h3>Generated Output</h3><button class="btn" onclick="closeModal()">Close</button></div><div style="background:#1e1e1e; padding:10px;"><textarea id="modal-result" readonly></textarea></div><div style="padding:20px; text-align:right; background:white;"><button class="btn btn-primary" onclick="copyResult()"><i class="fas fa-copy"></i> COPY TO CLIPBOARD</button></div></div></div>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
let originalPosts = [{% for post in site.posts %}{title:{{post.title|jsonify}},cat:{{post.categories|first|jsonify}},date:"{{post.date|date:'%Y-%m-%d'}}",slug:{{post.url|remove:'/'|jsonify}},tags:{{post.tags|jsonify}},img:{{post.feature|jsonify}},desc:{{post.excerpt|strip_html|strip_newlines|truncate:200|jsonify}},content:{{post.content|jsonify}}}{% unless forloop.last %},{% endunless %}{% endfor %}];
let posts = [...originalPosts];
let newsData = [{% for n in site.data.news %}{type:{{n.type|jsonify}},title:{{n.title|jsonify}},date:{{n.date|jsonify}}}{% unless forloop.last %},{% endunless %}{% endfor %}];
let pageData = [{% for p in site.pages %}{% if p.title %}{path:{{p.url|jsonify}},title:{{p.title|jsonify}}}{% unless forloop.last %},{% endunless %}{% endif %}{% endfor %}];
let assetData = [{% for f in site.static_files %}{% if f.path contains '/img/' %}{path:{{f.path|jsonify}},name:{{f.name|jsonify}}}{% unless forloop.last %},{% endunless %}{% endif %}{% endfor %}];
function navTo(p){
document.querySelectorAll('.section-panel').forEach(el=>el.classList.remove('active'));
document.querySelectorAll('.menu-item').forEach(el=>el.classList.remove('active'));
document.getElementById('panel-'+p).classList.add('active');
if(window.event && window.event.currentTarget) window.event.currentTarget.classList.add('active');
document.getElementById('current-view-title').innerText = p.toUpperCase().replace('PANEL-','');
if(p==='posts') renderPosts(); if(p==='news') renderNews(); if(p==='assets') renderAssets(); if(p==='pages') renderPages();
}
function renderPosts(){ document.getElementById('posts-tbody').innerHTML = posts.map(p=>`<tr><td style="font-weight:600;">${p.title}</td><td><span style="font-size:0.75rem; color:#f03e2f; background:rgba(240,62,47,0.1); padding:4px 10px; border-radius:15px; font-weight:700;">${(p.cat||'NONE').toUpperCase()}</span></td><td>${p.date}</td><td><button class="btn btn-primary" style="padding:4px 12px; font-size:0.75rem" onclick="showEditor('${p.slug}')">MODIFY</button></td></tr>`).join(''); }
function renderPages(){ document.getElementById('pages-tbody').innerHTML = pageData.map(p=>`<tr><td>${p.path}</td><td>${p.title}</td></tr>`).join(''); }
function renderNews(){ document.getElementById('news-tbody').innerHTML = newsData.map(n=>`<tr><td><b style="color:var(--primary)">${n.type}</b></td><td>${n.title}</td><td>${n.date}</td></tr>`).join(''); }
function renderAssets(){ document.getElementById('assets-grid').innerHTML = assetData.map(a=>`<div style="text-align:center; border:1px solid #eee; padding:15px; border-radius:8px; background:white; transition:0.2s;" onmouseover="this.style.boxShadow='0 5px 15px rgba(0,0,0,0.1)'" onmouseout="this.style.boxShadow='none'"><div style="height:120px; display:flex; align-items:center; justify-content:center; background:#f9f9f9; border-radius:4px; margin-bottom:12px; overflow:hidden;"><img src="${a.path}" style="max-width:100%; max-height:100%; object-fit:contain;"></div><div style="font-size:0.75rem; color:#777; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; margin-bottom:8px;">${a.name}</div><button class="btn" style="font-size:0.7rem; padding:5px; width:100%; border-color:#e0e0e0;" onclick="copyToClipboard('${a.path}')">COPY PATH</button></div>`).join(''); }
function showEditor(slug){
document.getElementById('posts-list-view').style.display='none'; document.getElementById('posts-editor-view').style.display='block';
document.getElementById('editor-title').innerText = slug ? 'MISSION: MODIFY POST' : 'MISSION: NEW ENTRANCE';
if(slug){ const p=originalPosts.find(x=>x.slug===slug); if(p){ 
document.getElementById('p-title').value=p.title; document.getElementById('p-cat').value=p.cat; document.getElementById('p-slug').value=p.slug; 
document.getElementById('p-date').value=p.date; document.getElementById('md-input').value=p.content||'';
document.getElementById('p-tags').value=(p.tags||[]).join(', '); document.getElementById('p-img').value=p.img||''; document.getElementById('p-desc').value=p.desc||'';
}} else { 
document.querySelectorAll('#posts-editor-view input, #posts-editor-view textarea').forEach(i=>i.value="");
document.getElementById('p-date').value=new Date().toISOString().split('T')[0]; document.getElementById('md-input').value="# NEW POST TITLE\n\nWrite your content here..."; 
}
updatePreview();
}
function hideEditor(){ document.getElementById('posts-list-view').style.display='block'; document.getElementById('posts-editor-view').style.display='none'; }
function autoSlug(){ document.getElementById('p-slug').value = document.getElementById('p-title').value.toLowerCase().replace(/[^\w\s-]/g,'').replace(/\s+/g,'-'); }
function updatePreview(){ document.getElementById('md-preview').innerHTML = marked.parse(document.getElementById('md-input').value); }
function insertFmt(pre, post){ let el=document.getElementById('md-input'); let s=el.selectionStart, e=el.selectionEnd, t=el.value; el.value=t.substring(0,s)+pre+t.substring(s,e)+(post||pre)+t.substring(e); el.focus(); updatePreview(); }
function filterPosts(q){ posts=originalPosts.filter(p=>p.title.toLowerCase().includes(q.toLowerCase())); renderPosts(); }
function exportPost(){
let tags = document.getElementById('p-tags').value.split(',').map(s=>s.trim()).filter(s=>s!='').map(s=>`  - ${s}`).join('\n');
let yaml = `---\nlayout: post\ntitle: '${document.getElementById('p-title').value}'\ndate: ${document.getElementById('p-date').value}\ncategories: [${document.getElementById('p-cat').value}]\ntags:\n${tags}\nfeature: ${document.getElementById('p-img').value}\nexcerpt: "${document.getElementById('p-desc').value.replace(/"/g,'\"')}"\npermalink: /${document.getElementById('p-slug').value}/\n---\n\n${document.getElementById('md-input').value}`;
openModal(yaml);
}
function openModal(v){ document.getElementById('modal-result').value=v; document.getElementById('modal-overlay').style.display='flex'; }
function closeModal(){ document.getElementById('modal-overlay').style.display='none'; }
function copyResult(){ document.getElementById('modal-result').select(); document.execCommand('copy'); alert('Mission Code Copied!'); }
function copyToClipboard(t){ let el=document.createElement("input"); document.body.appendChild(el); el.value=t; el.select(); document.execCommand("copy"); document.body.removeChild(el); alert("Asset path copied!"); }
window.onload = renderPosts;
</script>
</body>
</html>
